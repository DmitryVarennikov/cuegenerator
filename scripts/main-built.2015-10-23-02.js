define("layout",["jquery"],function(){var e=$(document).height()-20;$("#tracklist").animate({height:e-350}),$("#cue").animate({height:e-173}),$("#cue").one("click",function(){$(this).select()});var t=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;if(t){var r=document.createElement("script");r.src="chrome-extension://phoaoafhahilmaoddhppejobcmgnglmc/manifest.json",document.body.appendChild(r),r.onerror=function(){var e=document.getElementById("chrome-extension");e.style.display="block";var t=Math.round((document.body.offsetWidth-e.offsetWidth)/2);e.style.left=t+"px"}}}),define("cue/parser",[],function(){"use strict";function e(e){return e.trim()}function t(e){return e.trim()}function r(e){return e.trim()}function i(e){var t,r,i,n,c,o,m,h=[],p=[];p=e.split("\n");for(var d=0,v=1;d<p.length;d++,v++)t=p[d].trim(),t.length?(r=a(t),r.performer?(i=s(r.performer),c=l(i.time),o=u(i.residue),m=f(r.title)):(n=s(r.title),c=l(n.time),o="",m=u(n.residue)),h.push({track:v,performer:o,title:m,time:c})):v--;return h}function n(e){for(var t=[],r="",i=e.split("\n"),n=0;n<i.length;n++){var a=i[n].trim(),s=a.match(/(\d{2}:\d{2}:\d{2}[\.,:]\d{2})/i);if(null==s){var s=a.match(/(\d{2,3}:\d{2}[\.:]\d{2})/i);if(null==s){var s=a.match(/(\d{1,5}).(\d{6})/i);if(null==s){var s=a.match(/(\d{2}:\d{2}:\d{2})/i);if(null==s);else{r=s[0].split(":");var l=parseInt(r[0],10),u=parseInt(r[1],10),f=parseInt(r[2],10);r=(l<10?"0"+l:l)+":"+(u<10?"0"+u:u)+":"+(f<10?"0"+f:f),t.push(r)}}else{var c=s[2],o=s[1],m=Math.floor(o/60),l=m>0?m:0,u=o%60,f=Math.floor(75*parseFloat("0."+c));r=(l<10?"0"+l:l)+":"+(u<10?"0"+u:u)+":"+(f<10?"0"+f:f),t.push(r)}}else{var r=s[0].split(":"),l=r.shift();if(1==r.length)var h=r[0].split("."),u=h.shift(),f=h.shift();else var u=r.shift(),f=r.shift();r=l+":"+u+":"+f,t.push(r)}}else{var r=s[0].split(":"),p=r.shift(),l=r.shift();if(r.length>1)var u=r.shift(),f=r.shift();else{var h=r.shift();switch(!0){case-1!=h.indexOf("."):h=h.split(".");var u=h.shift(),f=h.shift();break;case-1!=h.indexOf(","):h=h.split(",");var u=h.shift(),f=h.shift()}}l=parseInt(l,10)+60*parseInt(p,10),r=(l<10?"0"+l:l)+":"+u+":"+f,t.push(r)}}return t}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var a=function(e){var t=[" - "," – "," ‒ "," — "," ― "],r=[],i="",n="";return r=-1!==e.search(t[0])?e.split(t[0]):-1!==e.search(t[1])?e.split(t[1]):-1!==e.search(t[2])?e.split(t[2]):-1!==e.search(t[3])?e.split(t[3]):-1!==e.search(t[4])?e.split(t[4]):[e],1===r.length?(i="",n=r.shift()):(i=r.shift(),n=r.join(" ")),{performer:i.trim(),title:n.trim()}},s=function(e){var t="",r="",i=/^(?:\d{2}\.)?\[?((?:\d{1,2}:)?\d{2,3}:\d{2})\]?.*$/i,n=e.match(i);return n&&n[1]?(t=n[1].trim(),r=e.substring(e.indexOf(n[1])+n[1].length).trim()):r=e.trim(),{time:t,residue:r}},l=function(e){e=e.trim();var t=/^\d{1,2}:\d{2}:\d{2}$/,r=e.match(t);if(r){var i=e.split(":"),n=parseInt(i[0],10),a=parseInt(i[1],10),s=i[2];a=60*n+a,e=a+":"+s+":00"}else{var t=/^\d{2,3}:\d{2}$/,r=e.match(t);r?e+=":00":e="00:00:00"}return e},u=function(e){var t=/^(?:\]? )?(?:\d{2}\)?\.? )?(.*)$/i,r=e.match(t);return r&&r[1]&&(e=r[1]),e=f(e)},f=function(e){return e=e.replace(/"/g,"")};return{performer:e,title:t,filename:r,tracklist:i,regionsList:n,_splitTitlePerformer:a,_separateTime:s,_cleanOffTime:u,_cleanDoubleQuotes:f,_castTime:l}}),define("cue/formatter",[],function(){"use strict";function e(e){return'PERFORMER "'+e+'"\n'}function t(e){return'TITLE "'+e+'"\n'}function r(e){return'FILE "'+e+'" MP3\n'}function i(e,t,r){for(var i,n,a="",s=0;s<e.length;s++)i=e[s],n=i.performer||r,a+="  TRACK "+(i.track<10?"0"+i.track:i.track)+" AUDIO\n",a+='    PERFORMER "'+n+'"\n',a+='    TITLE "'+i.title+'"\n',a+="    INDEX 01 "+(t[s]||i.time)+"\n";return a}return{performer:e,title:t,filename:r,tracklist:i}}),define("cue",["cue/parser","cue/formatter","jquery"],function(e,t){"use strict";function r(r,i,n,a,s){var l,u,f,c,o;return r=e.performer(r),u=t.performer(r),i=e.title(i),f=t.title(i),n=e.filename(n),c=t.filename(n),a=e.tracklist(a),s=e.regionsList(s),o=t.tracklist(a,s,r),l=u+f+c+o}$("#cue_fields input, #cue_fields textarea").keyup(function(e){var t=$("#perfomer").val(),i=$("#title").val(),n=$("#filename").val(),a=$("#tracklist").val(),s=$("#regions_list").val(),l=r(t,i,n,a,s);$("#cue").val(l)})}),requirejs.config({baseUrl:"scripts",urlArgs:require.specified("main")?"bust="+(new Date).getTime():null,paths:{jquery:["//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min","lib/jquery-1.9.1.min"]}}),require(["layout","cue"],function(){}),define("main",function(){});