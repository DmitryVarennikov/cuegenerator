define("layout",["jquery"],function(){var e=$(document).height()-20;$("#cue_fields textarea#tracklist").animate({height:e-350}),$("#cue").animate({height:e-173}),$("textarea#cue").one("click",function(){$(this).select()})}),define("cue/parser",[],function(){function e(e){return e.trim()}function t(e){return e.trim()}function n(e){return e.trim()}function r(e){var t=function(e){var t=[" - "," – "," ‒ "," — "," ― "];if(-1!==e.search(t[0]))var n=e.split(t[0]);else if(-1!==e.search(t[1]))var n=e.split(t[1]);else if(-1!==e.search(t[2]))var n=e.split(t[2]);else if(-1!==e.search(t[3]))var n=e.split(t[3]);else if(-1!==e.search(t[4]))var n=e.split(t[4]);else var n=[e];return $.map(n,function(e){return $.trim(e)})},n=[],r=e.split("\n");for(i=0,track=1;i<r.length;i++,track++){var s=$.trim(r[i]);if(!s.length){track--;continue}var o="00:00:00",u=t(s),a=u.shift(),f=a.match(/^(\d{2}\.)?\[?(\d{2,3}:\d{2})\]?.*$/i);null!=f&&f.length>1&&(o=f[2],o+=":00"),pattern=/^(\d{2}\.)?\[?(\d{2,3}:\d{2})?\]?\s?\d{0,2}(\s|\. )?(.*)$/i,a=a.replace(pattern,"$4");var l=u.length>0?u.join(" - "):"";a=a.replace(/"/g,""),l=l.replace(/"/g,""),n[track]={track:track<10?"0"+track:track,perfomer:a,title:l,time:o}}return n}return String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),getRegionsList=function(e){var t=[],n=e.split("\n");line=1;for(i=0;i<n.length;i++){var r=$.trim(n[i]),s=r.match(/(\d{2}:\d{2}:\d{2}[\.,:]\d{2})/i);if(null!=s){var o=s[0].split(":"),u=o.shift(),a=o.shift();if(o.length>1)var f=o.shift(),l=o.shift();else{var c=o.shift();switch(!0){case-1!=c.indexOf("."):c=c.split(".");var f=c.shift(),l=c.shift();break;case-1!=c.indexOf(","):c=c.split(",");var f=c.shift(),l=c.shift()}}a=parseInt(a,10)+parseInt(u,10)*60,t[line]=(a<10?"0"+a:a)+":"+f+":"+l,line++;continue}var s=r.match(/(\d{1,5}).(\d{6})/i);if(null!=s){var h=s[2],p=s[1],d=Math.floor(p/60),a=d>0?d:0,f=p%60,l=Math.floor(parseFloat("0."+h)*75);t[line]=(a<10?"0"+a:a)+":"+(f<10?"0"+f:f)+":"+(l<10?"0"+l:l),line++;continue}var s=r.match(/(\d{2}:\d{2}:\d{2})/i);if(null!=s){var o=s[0].split(":"),a=parseInt(o[0],10),f=parseInt(o[1],10),l=parseInt(o[2],10);t[line]=(a<10?"0"+a:a)+":"+(f<10?"0"+f:f)+":"+(l<10?"0"+l:l),line++;continue}}return t},{perfomer:e,title:t,filename:n,tracklist:r,regionsList:getRegionsList}}),define("cue/formatter",[],function(){function e(e){return'PERFORMER "'+e+'"\n'}function t(e){return'TITLE "'+e+'"\n'}function n(e){return'FILE "'+e+'" MP3\n'}function r(e,t){var n="";for(i=1;i<e.length;i++){var r=e[i];n+="  TRACK "+r.track+" AUDIO\n",n+='    PERFORMER "'+r.perfomer+'"\n',n+='    TITLE "'+r.title+'"\n',n+="    INDEX 01 "+(t[i]?t[i]:r.time)+"\n"}return n}return{perfomer:e,title:t,filename:n,tracklist:r}}),define("cue",["cue/parser","cue/formatter","jquery"],function(e,t){function n(n,r,i,s,o){var u="";return n=e.perfomer(n),n=t.perfomer(n),r=e.title(r),r=t.title(r),i=e.filename(i),i=t.filename(i),s=e.tracklist(s),o=e.regionsList(o),s=t.tracklist(s,o),u=n+r+i+s,u}$("#cue_fields input, #cue_fields textarea").keyup(function(e){var t=$("#perfomer").val(),r=$("#title").val(),i=$("#filename").val(),s=$("#tracklist").val(),o=$("#regions_list").val(),u=n(t,r,i,s,o);$("#cue").val(u)})}),requirejs.config({baseUrl:"scripts",paths:{jquery:["//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min","lib/jquery-1.9.1.min"]}}),require(["layout","cue"],function(){}),define("main",function(){});