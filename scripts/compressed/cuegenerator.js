function CUEgenerator_Formatter(){}CUEgenerator_Formatter.prototype.getPerfomer=function(b){return'PERFORMER "'+b+'"\n'};CUEgenerator_Formatter.prototype.getTitle=function(b){return'TITLE "'+b+'"\n'};CUEgenerator_Formatter.prototype.getFilename=function(b){return'FILE "'+b+'" MP3\n'};
CUEgenerator_Formatter.prototype.getTracklist=function(b,g){var e="";for(i=1;i<b.length;i++){var a=b[i];e+="  TRACK "+a.track+" AUDIO\n";e+='    PERFORMER "'+a.perfomer+'"\n';e+='    TITLE "'+a.title+'"\n';e+="    INDEX 01 "+(g[i]?g[i]:a.time)+"\n"}return e};function CUEgenerator_Parser(){this._parsedTracklist=null}CUEgenerator_Parser.prototype.getPerfomer=function(b){return $.trim(b)};CUEgenerator_Parser.prototype.getTitle=function(b){return $.trim(b)};CUEgenerator_Parser.prototype.getFilename=function(b){return $.trim(b)};
CUEgenerator_Parser.prototype.getTracklist=function(b){var g=function(a){var b=[" - "," \u2013 "," \u2012 "," \u2014 "," \u2015 "],a=-1!==a.search(b[0])?a.split(b[0]):-1!==a.search(b[1])?a.split(b[1]):-1!==a.search(b[2])?a.split(b[2]):-1!==a.search(b[3])?a.split(b[3]):-1!==a.search(b[4])?a.split(b[4]):[a];return $.map(a,function(a){return $.trim(a)})},e=[],b=b.split("\n");i=0;for(track=1;i<b.length;i++,track++){var a=$.trim(b[i]);if(a.length){var c="00:00:00",d=g(a),a=d.shift(),f=a.match(/^(\d{2}\.)?\[?(\d{2,3}:\d{2})\]?.*$/i);
null!=f&&f.length>1&&(c=f[2],c+=":00");pattern=/^(\d{2}\.)?\[?(\d{2,3}:\d{2})?\]?\s?\d{0,2}(\s|\. )?(.*)$/i;a=a.replace(pattern,"$4");d=d.length>0?d.join(" - "):"";a=a.replace(/"/g,"");d=d.replace(/"/g,"");e[track]={track:track<10?"0"+track:track,perfomer:a,title:d,time:c}}else track--}return e};
CUEgenerator_Parser.prototype.getRegionsList=function(b){var g=[],b=b.split("\n");line=1;for(i=0;i<b.length;i++){var e=$.trim(b[i]),a=e.match(/(\d{2}:\d{2}:\d{2}[\.,:]\d{2})/i);if(null!=a){var c=a[0].split(":"),d=c.shift(),a=c.shift();if(c.length>1)var f=c.shift(),h=c.shift();else switch(c=c.shift(),!0){case -1!=c.indexOf("."):c=c.split(".");f=c.shift();h=c.shift();break;case -1!=c.indexOf(","):c=c.split(","),f=c.shift(),h=c.shift()}a=parseInt(a,10)+parseInt(d,10)*60;g[line]=(a<10?"0"+a:a)+":"+f+
":"+h;line++}a=e.match(/(\d{1,5}).(\d{6})/i);null!=a&&(h=a[2],f=a[1],a=Math.floor(f/60),a=a>0?a:0,f%=60,h=Math.floor(parseFloat("0."+h)*75),g[line]=(a<10?"0"+a:a)+":"+(f<10?"0"+f:f)+":"+(h<10?"0"+h:h),line++)}return g};function CUEgenerator(){this.parser=new CUEgenerator_Parser;this.formatter=new CUEgenerator_Formatter}
CUEgenerator.prototype.toString=function(b,g,e,a,c){var d="";d+=this.formatter.getPerfomer(this.parser.getPerfomer($("#"+b).val()));d+=this.formatter.getTitle(this.parser.getTitle($("#"+g).val()));d+=this.formatter.getFilename(this.parser.getFilename($("#"+e).val()));d+=this.formatter.getTracklist(this.parser.getTracklist($("#"+a).val()),this.parser.getRegionsList($("#"+c).val()));return d};